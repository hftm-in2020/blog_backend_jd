# COMMON CONFIG
###############

# Database
quarkus.datasource.db-kind = mysql
quarkus.hibernate-orm.database.generation=none
quarkus.flyway.migrate-at-start=true
# %prod.quarkus.datasource.username = blog_user
# %prod.quarkus.datasource.jdbc.url = jdbc:mysql://d-mys-inflabdb.mysql.database.azure.com:3306/blogdb?useSSL=true

# %local.quarkus.datasource.username = dbuser
# %local.quarkus.datasource.password = dbuser
# %local.quarkus.datasource.jdbc.url = jdbc:mysql://blog-mysql:3306/blogdb

# Web
quarkus.http.cors=true
quarkus.swagger-ui.always-include=true
# quarkus.smallrye-openapi.info-title=Example Blog API

# Keycloak
quarkus.oidc.client-id=backend-service
quarkus.oidc.auth-server-url=https://d-cap-keyclaok.kindbay-711f60b2.westeurope.azurecontainerapps.io/realms/blog
quarkus.oidc.credentials.secret=<secret>

# Container Image
quarkus.container-image.group=hftm-inf
quarkus.container-image.registry=ghcr.io
%local.quarkus.container-image.name=blog-backend-local
# quarkus.container-image.name=blog-backend
# quarkus.container-image.tag=latest



# DEV - Variablen
#################
%dev.quarkus.profile=dev

# Database
%dev.quarkus.datasource.username = dev_user
%dev.quarkus.datasource.password = dev_password

%dev.quarkus.datasource.jdbc.url = jdbc:mysql://dev-mysql:3306/blogdb

# Web
%dev.quarkus.smallrye-openapi.info-title=DEV Blog API

# Container Image
%dev.quarkus.container-image.name=blog-backend-dev
%dev.quarkus.container-image.tag=latest-dev

# TEST - Variablen
#################
%test.quarkus.profile=test

# Database
%test.quarkus.datasource.username = test_user
%test.quarkus.datasource.password = test_password

%test.quarkus.datasource.jdbc.url = jdbc:mysql://test-mysql:3306/blogdb

# Web
%test.quarkus.smallrye-openapi.info-title=TEST Blog API

# Container Image
%test.quarkus.container-image.name=blog-backend-test
%test.quarkus.container-image.tag=latest-test

# PROD - Variablen
#################
%prod.quarkus.profile=prod

# Database
%prod.quarkus.datasource.username = prod_user
%prod.quarkus.datasource.password = prod_password

%prod.quarkus.datasource.jdbc.url = jdbc:mysql://prod-mysql:3306/blogdb

# Web
%prod.quarkus.smallrye-openapi.info-title=PROD Blog API

# Container Image
%prod.quarkus.container-image.name=blog-backend-prod
%prod.quarkus.container-image.tag=latest-prod


# Azure Event Hubs / Kafka
mp.messaging.outgoing.validation-request.connector=smallrye-kafka
mp.messaging.incoming.validation-response.connector=smallrye-kafka
%prod.mp.messaging.incoming.validation-response.auto.offset.reset=earliest

%local.kafka.bootstrap.servers=redpanda-1:9092

%prod.kafka.bootstrap.servers=d-evh-inflabbus.servicebus.windows.net:9093
%prod.kafka.security.protocol=SASL_SSL
%prod.kafka.sasl.mechanism=PLAIN

%prod.mp.messaging.outgoing.validation-request.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="\$ConnectionString" password="${VAL_REQUEST_CONNECTION_STRING}";
%prod.mp.messaging.incoming.validation-response.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="\$ConnectionString" password="${VAL_RESPONSE_CONNECTION_STRING}";