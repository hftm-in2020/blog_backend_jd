# Database
quarkus.datasource.db-kind = mysql
quarkus.hibernate-orm.database.generation=none
quarkus.flyway.migrate-at-start=true
%prod.quarkus.datasource.username = blog_user
%prod.quarkus.datasource.jdbc.url = jdbc:mysql://d-mys-inflabdb.mysql.database.azure.com:3306/blogdb?useSSL=true

%local.quarkus.datasource.username = dbuser
%local.quarkus.datasource.password = dbuser
%local.quarkus.datasource.jdbc.url = jdbc:mysql://blog-mysql:3306/blogdb

# Web
quarkus.http.cors=true
quarkus.swagger-ui.always-include=true
quarkus.smallrye-openapi.info-title=Example Blog API

# Keycloak
quarkus.oidc.client-id=backend-service
quarkus.oidc.auth-server-url=https://d-cap-keyclaok.kindbay-711f60b2.westeurope.azurecontainerapps.io/realms/blog
quarkus.oidc.credentials.secret=<secret>

# Container Image
quarkus.container-image.group=hftm-inf
quarkus.container-image.name=blog-backend
%local.quarkus.container-image.name=blog-backend-local
quarkus.container-image.registry=ghcr.io
quarkus.container-image.tag=latest

# Azure Event Hubs / Kafka
mp.messaging.outgoing.validation-request.connector=smallrye-kafka
mp.messaging.incoming.validation-response.connector=smallrye-kafka
%prod.mp.messaging.incoming.validation-response.auto.offset.reset=earliest

%local.kafka.bootstrap.servers=redpanda-1:9092

%prod.kafka.bootstrap.servers=d-evh-inflabbus.servicebus.windows.net:9093
%prod.kafka.security.protocol=SASL_SSL
%prod.kafka.sasl.mechanism=PLAIN

%prod.mp.messaging.outgoing.validation-request.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="\$ConnectionString" password="${VAL_REQUEST_CONNECTION_STRING}";
%prod.mp.messaging.incoming.validation-response.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="\$ConnectionString" password="${VAL_RESPONSE_CONNECTION_STRING}";